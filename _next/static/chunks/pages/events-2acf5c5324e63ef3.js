(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[787],{2314:()=>{},6446:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var a=n(7876),s=n(8230),i=n.n(s);let l=function(){return(0,a.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between outline-1 outline-amber-50",children:[(0,a.jsx)("h1",{className:"text-xl font-bold italic",children:"Booba"}),(0,a.jsxs)("nav",{className:"space-x-6",children:[(0,a.jsx)(i(),{href:"/",className:"hover:text-gray-300",children:"Home"}),(0,a.jsx)(i(),{href:"/",className:"hover:text-gray-300",children:"Notes"}),(0,a.jsx)(i(),{href:"/events",className:"hover:text-gray-300",children:"Events"}),(0,a.jsx)(i(),{href:"/warframe",className:"hover:text-gray-300",children:"Warframe"})]})]})}},6736:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/events",function(){return n(9548)}])},9548:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(7876),s=n(4232);n(2314);var i=n(6446);let l="http://localhost:5000/api/events";function r(){let[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(""),[o,d]=(0,s.useState)(""),[h,m]=(0,s.useState)("DEBUG");return(0,s.useEffect)(()=>{fetch("".concat(l,"/get")).then(e=>e.text()).then(e=>JSON.parse(e)).then(e=>t(e))},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.A,{}),(0,a.jsxs)("form",{children:[(0,a.jsx)("input",{placeholder:"email",onChange:e=>d(e.target.value)}),(0,a.jsx)("input",{placeholder:"name",onChange:e=>r(e.target.value)})]}),(0,a.jsx)("h3",{children:h}),(0,a.jsx)("button",{onClick:()=>{for(let e=0;e<200;e++){let t=fetch("".concat(l,"/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:"019978c4-310e-7737-bd5e-7f4d84ae5e23",email:"email".concat(e),name:"bobik"})});console.log("register number ".concat(e," ")+t.ok?"success":0)}},children:"spam "}),(0,a.jsx)("button",{onClick:()=>{fetch("".concat(l,"/init"))},children:"init"}),(0,a.jsx)("button",{onClick:()=>{fetch("".concat(l,"/nuke"))},children:"Nuke"}),(0,a.jsx)("ol",{children:null==e?void 0:e.map((e,s)=>(0,a.jsx)(c,{ev:e,setEvents:t,name:n,email:o,setDebugText:m},s))})]})}function c(e){let{ev:t,setEvents:n,email:s,name:i,setDebugText:r}=e,c=async()=>{console.log("registering for event ".concat(t.name," ").concat(t.id));let e=await fetch("".concat(l,"/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:t.id,email:s,name:i})});if(e.ok){let t=JSON.parse(await e.text());n(e=>e.map(e=>e.id===t.id?t:e)),r("registered for event")}else{var a;r((a="error: "+await e.text(),a))}},o=async()=>{(await fetch("".concat(l,"/mail?EventId=").concat(t.id,"&addr=desantua20@gmail.com"))).ok?r("email sent"):r("email fali")},d=new Date(t.timeStart).toLocaleString(),h=new Date(t.timeEnd).toLocaleString();return(0,a.jsxs)("li",{children:[(0,a.jsx)("p",{children:t.name}),(0,a.jsxs)("p",{children:["Start: ",d]}),(0,a.jsxs)("p",{children:["End: ",h]}),(0,a.jsxs)("p",{className:"slots",children:[t.slotsTaken,"/",t.slots]}),(0,a.jsx)("button",{onClick:t.slotsTaken>=t.slots?o:c,children:t.slotsTaken>=t.slots?"send email":"register"})]})}}},e=>{e.O(0,[230,636,593,792],()=>e(e.s=6736)),_N_E=e.O()}]);